<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>BSL Demo App</title>
    <meta name="viewport" content="minimal-ui">
    <link rel="stylesheet" href="https://jsdev.arcgis.com/4.11/esri/themes/light/main.css">
    <link rel="stylesheet" href="https://s3-us-west-1.amazonaws.com/patterns.esri.com/files/calcite-web/1.2.4/css/calcite-web.min.css">
    <link rel="stylesheet" href="./src/css/main.css">
    <link rel="stylesheet" href="./src/js/sections/css/sections.css">
    <link rel="stylesheet" href="./src/js/widgets/widgets.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet">
    <script>
      var locationPath = location.pathname.replace(/\/[^\/]+$/, "/");
      window.dojoConfig = {
        packages: [
          {
            name: "app",
            location: locationPath + "src/js/"
          }
        ]
      };
    </script>
    <script src="https://jsdev.arcgis.com/4.11/"></script>
  </head>
  <body>
    <div id="canvas">
      <div id="floorViewDiv"></div>
      <div id="mainViewDiv"></div>
    </div>
    <div id="appDiv">
      <div id="toggleSchematic"></div>
      <div id="floorLegend" class="hide"></div>
      <div id="popup"></div>
    </div>
    <script>require([
      "app/BSLDemo", 
      "app/sections/HomeSection",
      "app/sections/SurroundingsSection",
      "app/sections/FloorsSection",
    ], 
    (
      BSLDemo,
      HomeSection,
      SurroundingsSection,
      FloorsSection
    )  => {
      // https://zrh.mapsdevext.arcgis.com/sharing/rest/content/items/0ed24045780348f8b7dfde7970710e4e/data?f=json
      // var buildingLayer = "https://tiles.arcgis.com/tiles/hLRlshaEMEYQG5A8/arcgis/rest/services/Turanga/SceneServer";
          // "a1612c05d1ed43eaa1130cb6fbfc4dc2",
          // Demo from Gianluca:
          // "https://tilesdevext.arcgis.com/tiles/5xC5Wrapp1gUAl2r/arcgis/rest/services/Turanga_Library/SceneServer", 
          // "https://tiles.arcgis.com/tiles/hLRlshaEMEYQG5A8/arcgis/rest/services/Turanga/SceneServer",
      
      new BSLDemo({
        // The container where to display the map:
        mapContainer: "mainViewDiv",

        // The id to the scene for the BSL you'd like to display:
        websceneId: "b753b2ba04ef477ca46a5b8bd9766d2d",
        buildingLayerTitle: "Turanga Library",
        surroundingsLayerTitle: "City Model Christchurch",

        // The url to a SceneService displaying the surrounding:
        // surroundingsLayer: "https://services.arcgis.com/hLRlshaEMEYQG5A8/arcgis/rest/services/Scenechch_WSL1/SceneServer",
        // From Ginaluca:
        // "https://servicesdev.arcgis.com/5xC5Wrapp1gUAl2r/arcgis/rest/services/City_Model_Christchurch/SceneServer",
          //"440bec229bf24c89a72a69cf07cdf244", 
          // "https://services.arcgis.com/hLRlshaEMEYQG5A8/arcgis/rest/services/Scenechch_WSL1/SceneServer",

        // Your different sections:
        sections: [
          // Check the different files
          // to adapt to your need
          // or create a new section by
          // implement a subclass from `Section`
          
          // The about Tarangua section:
          new HomeSection(),
          // The different floors:
          new FloorsSection(),
          // Surroundings:
          new SurroundingsSection()
        ]
      }, "appDiv");
    });</script>
  </body>
</html>
